/*******************************
 *
 * README
 *
 */
【前書き】
    本テキストにお気づきになりましたか。
    ありがとうございます。
    本テキストは、開発時のアイデアや今後実装する機能の備忘録を兼ねて記述しています。
    まだ未実装の機能が多いですが、本ゲームの最終目標として以下の機能を考えております。
    開発中に思い付いた物なども追記していくので、ちょくちょく変更されるかもしれません。

【用語】
    本ゲームの用語です
    ・クマ
      ご存知本作の主人公。
      enchant.jsの公式サイトで一式をダウンロードすると画像が付いてくる。

    ・アクションエリア
      画面上半分のエリアを指す。
      このエリアの時間は常に流れている。

    ・パズルエリア
      画面下半分のエリアを指す。
      このエリアはユーザーの操作が行われない場合時間は流れていない。

    ・スフィア
      パズルエリアにある丸い球の事。
      縦横いずれかに3個以上つなげると消える。

    ・操作時間
      スフィアを1回のスワイプで移動させられる時間。
      初期状態では「5秒間」となっている。

    ・属性
      火・水・木・光・闇・無の6種類ある。
      詳しくは下記の「属性について」を参照

    ・属性ストック
      スフィアを消すと、消したスフィアの属性に対応したアクションエリア左上にある属性ストックの個数が増えます。
      消したスフィア1個につき1ストックが増えます。
      この値の10分の1(小数点以下切り捨て)が同じ属性のクマの攻撃力に加算されます。

    ・コンボ
      1回のスフィアの移動で複数のスフィアが消える事。
      1つの繋がりで1コンボとなる。
      例えば横に3個つながっていて、その中のどれかが縦にも3個つながっている状態も1コンボとなる。

    ・落ちコン
      スフィアが消去され、スフィアが補充された時に既に3個以上同じ属性のスフィアが繋がっており、
      補充されたスフィアが直ぐに消える事。

    ・行消し
      同じ色のスフィアを横一列に6個並べて消すこと。
      クマの属性を変更することが出来る。
      行消しが成立するには「6個消した時」となっているため、横一列に立ても加わり7個以上が繋がっていると成立しない。

    ・平均コンボ
      本ゲームでの平均コンボは「直近5回の平均コンボ」を指します。
      平均コンボはアクションエリア上に常に表示されており、クマの攻撃倍率に影響します。
      平均コンボ数は一定時間以上スフィアの消去を行わない場合、1ずつ減っていきます。
      平均コンボによる倍率は以下となります。
      平均コンボ倍率判定時には平均コンボは小数点以下を捨てた値で判別されます。
        3以下：1.0倍
        4： 1.2倍
        5： 1.5倍
        6： 2.0倍
        7： 3.0倍
        8： 5.0倍
        9： 7.0倍
       10：10.0倍

【属性について】
    クマと敵には属性がある。

    属性は全部で６種類ある。
      ・無属性
      ・火属性
      ・水属性
      ・木属性
      ・光属性
      ・闇属性

    属性はそれぞれ相互関係を持っている。
    よくあるパターンとなっている。
     ┌→ 火 ─┐
     │        ↓   光 ⇔ 闇   無
     水 ←── 木

    有利な属性に対し攻撃を行った場合、ダメージの最終値が1.5倍になります。
    逆に不利な属性に対しての攻撃は、ダメージの最終値が0.5倍になります。
    無属性は与ダメ・被ダメ共に1.0倍となります。

【クマの属性について】
    クマは初期状態では「無属性」となっている。

    クマの属性はスフィアの横１列消しによって変更できる。
    例えば、火属性のスフィアを行消しする事で火属性になることが出来る。

    クマに属性が付与されている時、画面上に属性時間バーが表示される。
    クマはこのバーの時間が無くなるまでその属性になっている。
    時間切れでクマは「無属性」に戻る。

    クマの属性は上書きする事が出来る。
    例えば「火属性」のクマの状態で「木属性のスフィアを行消し」すると、クマは「木属性」になる。
    この時、属性の時間もリセットされることとなる。

    クマが属性中である場合のメリットは、得意な属性の敵への与ダメージアップ、被ダメージダウンの他にもある。
    ・スフィアの偏り
      クマの属性と同じ属性のスフィアは、スフィア補充時にほかの属性よりも出やすくなっている。

【クマの攻撃について】
    クマは頭上にあるウェイトバーがなくなると攻撃を行います。
    敵に与えるダメージはクマの攻撃力、クマの属性と属性ストック数、さらに平均コンボ数に応じて変化します。
    例：
      ・クマの攻撃力 = 10
      ・クマの属性 = 火属性
      ・敵の属性 = 木属性
      ・火属性のストック = 50
      ・平均コンボ = 6
      (クマの攻撃力 + クマの属性のストック / 10) * 平均コンボ数倍率 * 属性相性倍率 = 45ダメージ
      (10           + 50                   / 10) * 2.0              * 1.5          = 45ダメージ

【敵の攻撃について
    敵にもクマと同様に頭上にウェイトバーがあり、なくなると攻撃してきます。
    敵がクマに与えるダメージは敵の攻撃力と属性のみが影響します。

【クマのHPの回復について】
    回復スフィア（ピンク色のスフィア）を含めたコンボを行うと、クマのHPが回復します。
    回復量は、クマの回復力とコンボで消えた回復スフィアの総数と、その時のコンボ数が影響します。
    コンボ数による影響は、攻撃時の平均コンボの倍率と同様となります。
    例：
      ・クマの回復力 = 10
      ・消えた回復スフィアの数 = 5
      ：コンボ数 = 6
      10 * 5 * 2.0 = 100回復

【クマのレベルアップ】
    クマは敵を倒すと経験値を獲得します。
    経験値が一定以上たまるとクマはレベルアップし、能力が上がります。
    レベルアップしたとき、クマはHPが全回復します。

